# Luscii ‚Äì Technical Assignment

## üìö Description

This is a simple API for managing notes. It supports adding, listing, and deleting notes.  
It was built using Node.js with in-memory storage for demonstration purposes.

---

## Requirements

The application should meet the following requirements:

- Use Node.js
- Use in-memory storage (no database required)
- Handle errors securely
- Include unit tests
- Clear and maintainable code

Implicit from the context:

- Secure
- Scalable
- Serverless environment

## Endpoints

The app will have the following endpoints:

- `POST /notes` - Create a new note
- `GET /notes` - Get all notes
- `DELETE /notes/:id` - Delete a note by ID

Full API specification can be found in [api-spec.MD](./api-spec.MD).

## üõ†Ô∏è How to run

```bash
# Install dependencies
npm install

# Run the API
npm start

# Run tests
npm test

# Format code with Prettier
npm run format
```

## Contributing

### Getting Started

If you want to quickly get started, use vs code and have docker installed you can use the devcontainer to get an environment ready to go. Just run the "Reopen in Container" command from the command palette.

### Pull Requests

Use pull requests to propose and submit changes to the codebase. Ensure your changes are well-documented and tested. Pull requests will be required to be squashed and merged to keep the commit history clean.

Each commit will be prefixed to denote the type of change:

- `[FEAT]:` for new features
- `[FIX]:` for bug fixes
- `[DOCS]:` for documentation changes
- `[STYLE]:` for code style changes
- `[REFAC]:` for code refactoring
- `[TEST]:` for adding or updating tests
- `[DEV]:` for development environment changes

### Code style

Usually I would use a linter like ESLint to maintain code style consistency in line with how the organization handles code style (since it is fairly configurable to the organization's preferences). For demonstration purposes we use prettier with default settings. This gives consistent formatting, without a lot of configuration.

### Pipeline

A simple CI pipeline is set up using GitHub Actions to run tests and format checks on each pull request.

## Assumptions and Decisions

This section outlines some assumptions and decisions made during development. Some of these would normally be clarified with e.g. the product owner.

- The maximum length for a note's content is 1000 characters. For now an arbitrary limit is set to prevent excessively large notes.
- Based on the initial tests a note has a content field (string) and an id (string). For the demo purposes we assume no other fields (like createdAt, updatedAt, title, tags, etc.) are needed.
- The id is an UUID generated by the server. With an UUID we avoid collisions in a simple way when scaling and using serverless functions.
- Empty notes are not allowed.
- I did not bother with error logging for the demo version, but in a production system we would log errors to a logging service for monitoring and debugging.
- I implemented a simple cleaning middleware to trim whitespace from note content before saving.
- I did not implement more complex sanitation in the demo which might be needed in the real context.
- attempting to delete a note that does not exist returns a 404 error.
- In the demo version I did not implement proper error types in the code. To the outside the API handles errors correctly.
- In the demo version the get does not have pagination, sorting or filtering of any type.

## üóÇÔ∏è Code Structure

- **src/** ‚Äì Main application source code
  - **index.ts** ‚Äì Express app setup and route registration
  - **middleware.ts** ‚Äì All validation, cleaning, and error handler middleware
  - **notesRepository.ts** ‚Äì In-memory repository class for notes
  - **notesService.ts** ‚Äì Business logic for notes (service class)
  - **types.ts** ‚Äì Shared TypeScript interfaces and types
- **tst/** ‚Äì Test suite
  - **notes.post.test.ts** ‚Äì Tests for POST /notes endpoint
  - **testUtils.ts** ‚Äì Test helpers and test app factory
- **api-spec.MD** ‚Äì API specification and contract
- **readme.MD** ‚Äì Project documentation

This modular structure makes it easy to extend, test, and maintain the codebase.
